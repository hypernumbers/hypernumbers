#!/bin/sh 

args=""

while [ $1 ]; do
    if [ $1 = "-config" ]; then
	args="$args -ct_config";
    elif [ $1 = "-vts" ]; then
	vts=1;
	args="$args $1";
    elif [ $1 = "-browser" ]; then
	browser=$2;
	args="$args $1";
    elif [ $1 = "-shell" ]; then
	shell=1;
	args="$args $1";
    elif [ $1 = "-ctname" ]; then
	ctname=$2;
	args="$args";
    elif [ $1 = "-ctmaster" ]; then
	master=1;
	args="$args";
    else
	args="$args $1"
    fi
    shift
done

if [ $vts ]; then
    erl -sname ct \
	-pa /Users/hasan/proj/hngit/tests/common_test-1.3.0/ebin \
	-pa /Users/hasan/proj/hngit/tests/test_server-3.2.0/ebin \
	-s webtool script_start vts $browser \
	-s ct_run script_start \
	$args;
elif [ $shell ]; then
    erl -sname ct \
	-pa /Users/hasan/proj/hngit/tests/common_test-1.3.0/ebin \
	-pa /Users/hasan/proj/hngit/tests/test_server-3.2.0/ebin \
	-s ct_run script_start \
	$args;
elif [ $ctname ]; then
    erl -sname $ctname \
	-pa /Users/hasan/proj/hngit/tests/common_test-1.3.0/ebin \
	-pa /Users/hasan/proj/hngit/tests/test_server-3.2.0/ebin \
	$args;
elif [ $master ]; then
    erl -sname ct_master \
	-pa /Users/hasan/proj/hngit/tests/common_test-1.3.0/ebin \
	-pa /Users/hasan/proj/hngit/tests/test_server-3.2.0/ebin \
	$args;
else
    erl -sname ct \
	-pa /Users/hasan/proj/hngit/tests/common_test-1.3.0/ebin \
	-pa /Users/hasan/proj/hngit/tests/test_server-3.2.0/ebin \
	-s ct_run script_start \
	-s erlang halt \
	$args
fi
